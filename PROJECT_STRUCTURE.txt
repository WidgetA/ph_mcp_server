Product Hunt MCP Server - 项目结构
=====================================

核心文件:
---------
server.py                      # HTTP JSON-RPC 服务器主程序
config.py                      # 配置管理 (从环境变量读取)
services/
  ├── __init__.py
  └── supabase_service.py      # Supabase 数据库访问服务

配置文件:
---------
requirements.txt               # pip 依赖包列表（4 个依赖）
pyproject.toml                 # 项目配置
.python-version                # Python 版本 (3.10)
.gitignore                     # Git 忽略文件

脚本:
-----
install.sh                     # 安装（创建虚拟环境，安装依赖）
run.sh                         # 启动（直接运行，日志输出到 stdout）

文档:
-----
README.md                      # 部署和使用说明
PROJECT_STRUCTURE.txt          # 本文件

依赖包:
-------
- supabase==2.10.0             # Supabase 客户端
- httpx==0.27.2                # HTTP 客户端
- uvicorn[standard]>=0.32.0    # ASGI 服务器
- starlette>=0.35.0            # Web 框架

环境变量:
---------
SUPABASE_URL                   # Product Hunt Supabase 项目 URL（必需）
SUPABASE_KEY                   # Product Hunt Supabase 匿名密钥（必需）
GITHUB_SUPABASE_URL            # GitHub Trending Supabase 项目 URL（必需）
GITHUB_SUPABASE_KEY            # GitHub Trending Supabase 匿名密钥（必需）
PRODUCTS_TABLE                 # Product Hunt 产品表名（默认: ph_products）
REPORTS_TABLE                  # Product Hunt 日报表名（默认: ph_daily_reports）
GITHUB_REPORTS_TABLE           # GitHub Trending 日报表名（默认: github_trending_reports）

注意: 环境变量需在服务器全局配置，不使用 .env 文件

API 端点:
---------
GET  /                         # 服务信息
GET  /health                   # 健康检查
POST /mcp                      # JSON-RPC 端点（所有 MCP 请求）

支持的 JSON-RPC 方法:
--------------------
- initialize                   # 初始化连接
- notifications/initialized    # 初始化完成通知
- tools/list                   # 列出所有工具
- tools/call                   # 调用工具
- ping                         # 心跳检测

工具列表:
---------
Product Hunt 数据:
1. get_latest_products         # 获取最新产品列表
2. get_products_by_date        # 按日期查询产品
3. search_products             # 关键词搜索产品
4. get_top_products            # 获取热门产品（按投票）
5. get_latest_report           # 获取最新 PH 报告
6. get_report_by_date          # 按日期获取 PH 报告
7. get_reports_by_date_range   # 按日期范围获取 PH 报告

GitHub Trending 数据:
8. get_github_trending_report  # 获取 GitHub Trending 日报

部署流程:
---------
1. 在服务器配置环境变量（.bashrc 或 .profile）
2. 上传代码到服务器
3. 运行 ./install.sh 安装依赖
4. 运行 ./run.sh 启动服务

管理:
-----
./install.sh                   # 安装
./run.sh                       # 启动（日志输出到 stdout）

注意:
- 直接运行，不使用后台模式
- 日志输出到 stdout，由外部日志系统采集
- 服务运行在 8080 端口

客户端配置:
-----------
URL: https://your-domain.com/mcp

Claude Desktop:
{
  "mcpServers": {
    "ph-mcp-server": {
      "url": "https://your-domain.com/mcp",
      "transport": "http"
    }
  }
}

技术栈:
-------
- Python 3.10+
- JSON-RPC 2.0
- Starlette (ASGI Web Framework)
- uvicorn (ASGI Server)
- Supabase (PostgreSQL Database)
